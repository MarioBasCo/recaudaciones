<div>
    <h2 mat-dialog-title>{{titulo}} Registro</h2>
    <form mat-dialog-content [formGroup]="userForm" class="flex flex-wrap">
        <div class="w-full md:w-1/2 lg:w-1/2 p-2">
            <mat-form-field appearance="outline" class="w-full">
                <mat-label>Identificaci칩n</mat-label>
                <input matInput onlyNumbers type="tel" formControlName="identificacion" maxlength="10">
                <mat-error class="-mx-4" *ngIf="userForm.get('identificacion')?.hasError('required')">Campo requerido</mat-error>
            </mat-form-field>
        </div>

        <div class="w-full md:w-1/2 lg:w-1/2 p-2">
            <mat-form-field appearance="outline" class="w-full">
                <mat-label>Nombres</mat-label>
                <input matInput trim type="text" formControlName="nombres">
                <mat-error class="-mx-4" *ngIf="userForm.get('nombres')?.hasError('required')">Campo requerido</mat-error>
                <mat-error class="-mx-4" *ngIf="userForm.get('nombres')?.hasError('pattern')">El campo debe contener solo letras</mat-error>
            </mat-form-field>
        </div>

        <div class="w-full md:w-1/2 lg:w-1/2 p-2">
            <mat-form-field appearance="outline" class="w-full">
                <mat-label>Apellidos</mat-label>
                <input matInput trim type="text" formControlName="apellidos">
                <mat-error class="-mx-4" *ngIf="userForm.get('apellidos')?.hasError('required')">Campo requerido</mat-error>
                <mat-error class="-mx-4" *ngIf="userForm.get('apellidos')?.hasError('pattern')">El campo debe contener solo letras</mat-error>
            </mat-form-field>
        </div>

        <div class="w-full md:w-1/2 lg:w-1/2 p-2">
            <mat-form-field appearance="outline" class="w-full">
                <mat-label>Celular</mat-label>
                <input matInput phone type="tel" formControlName="celular" maxlength="10">
                <mat-error class="-mx-4" *ngIf="userForm.get('celular')?.hasError('required')">Campo requerido</mat-error>
                <mat-error class="-mx-4" *ngIf="userForm.get('celular')?.hasError('pattern')">El campo debe empezar con 09... y tener 10 digitos</mat-error>
            </mat-form-field>
        </div>

        <div class="w-full md:w-1/2 lg:w-1/2 p-2">
            <mat-form-field appearance="outline" class="w-full">
                <mat-label>Direcci칩n</mat-label>
                <input matInput trim type="text" formControlName="direccion">
                <mat-error class="-mx-4" *ngIf="userForm.get('direccion')?.hasError('required')">Campo requerido</mat-error>
            </mat-form-field>
        </div>

        <div class="w-full md:w-1/2 lg:w-1/2 p-2">
            <mat-form-field appearance="outline" appearance="outline" class="w-full">
                <mat-label>Correo</mat-label>
                <input matInput type="text" formControlName="email">
                <mat-error class="-mx-4" *ngIf="userForm.get('email')?.hasError('required')">Campo requerido</mat-error>
                <mat-error class="-mx-4" *ngIf="userForm.get('email')?.hasError('pattern')">El correo debe tener un formato v치lido</mat-error>
            </mat-form-field>
        </div>

        <div class="w-full md:w-1/2 lg:w-1/2 p-2">
            <mat-form-field appearance="outline" class="w-full">
                <mat-label>Usuario</mat-label>
                <input matInput trim type="text" formControlName="name" autocomplete="username">
                <mat-error class="-mx-4" *ngIf="userForm.get('name')?.hasError('required')">Campo requerido</mat-error>
            </mat-form-field>
        </div>

        <div class="w-full md:w-1/2 lg:w-1/2 p-2">
            <mat-form-field appearance="outline" class="w-full">
                <mat-label>Rol</mat-label>
                <mat-select formControlName="role">
                    <mat-option *ngFor="let rol of roles" [value]="rol.name">
                        {{ rol.name | uppercase }}
                    </mat-option>
                </mat-select>
                <mat-error class="-mx-4" *ngIf="userForm.get('role')?.hasError('required')">Campo requerido</mat-error>
            </mat-form-field>
        </div>

        <div class="w-full md:w-1/2 lg:w-1/2 p-2">
            <mat-form-field appearance="outline" class="w-full">
                <mat-label for="password">Contrase침a</mat-label>
                <input matInput type="password" id="password" formControlName="password" autocomplete="current-password">
                <mat-error class="-mx-4" *ngIf="userForm.get('password')?.hasError('required')">Campo requerido</mat-error>
            </mat-form-field>
        </div>

    </form>

    <div mat-dialog-actions class="justify-end">
        <button mat-raised-button class="min-w-26" [mat-dialog-close]="false" [disabled]="isLoading"
            color="warn">Cancelar</button>
        <button mat-raised-button class="min-w-26" [disabled]="isLoading || userForm.invalid" color="primary"
            (click)="save()">
            <ng-container *ngIf="isLoading; else elseTemplate">
                <mat-spinner [diameter]="25"></mat-spinner>
            </ng-container>
            <ng-template #elseTemplate>
                Guardar
            </ng-template>
        </button>
    </div>
</div>